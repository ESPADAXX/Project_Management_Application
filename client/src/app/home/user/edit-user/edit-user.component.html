<div class="flex justify-between mx-10 my-4">
    <div class="rounded-[10px] w-[60%] h-[90%] bg-white p-7">
      <form (submit)="submitForm()">
        <div class="w-full px-3 mb-5">
            <label for="fullName" class=" font-semibold px-1 text-lg font-quicksand capitalize ">Full name</label>
            <div class="flex">
                <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-format-title text-gray-400 text-lg"></i></div>
                <input type="text" id="fullName" name="fullName" [value]="userResponse.fullName" [(ngModel)]="formData.fullName" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
            </div>
            <div *ngIf="!response.status && response.errors[0].fullName" class="text-rose-900 text-sm">
                {{response.errors[0].fullName}}
            </div>
        </div>
        <div class="w-full px-3 mb-5">
            <label for="email" class=" font-semibold px-1 text-lg font-quicksand capitalize ">email</label>
            <div class="flex">
                <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-email-sync-outline text-gray-400 text-lg"></i></div>
                <input type="text" id="email" name="email" [value]="userResponse.email" [(ngModel)]="formData.email" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
            </div>
            <div *ngIf="!response.status && response.errors[0].email" class="text-rose-900 text-sm">
                {{response.errors[0].email}}
            </div>
        </div>
        <div class="w-full px-3 mb-5">
            <label for="phone" class=" font-semibold px-1 text-lg font-quicksand capitalize ">phone</label>
            <div class="flex">
                <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi  mdi-phone text-gray-400 text-lg"></i></div>
                <input type="text" id="phone" name="phone" [value]="userResponse.phone" [(ngModel)]="formData.phone" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
            </div>
            <div *ngIf="!response.status && response.errors[0].phone" class="text-rose-900 text-sm">
                {{response.errors[0].phone}}
            </div>
        </div>
        <div class="w-full px-3 mb-5">
            <label for="department" class=" font-semibold px-1 text-lg font-quicksand capitalize ">Departments</label>
            <div class="ml-3 flex content-center bg-gray-200 rounded-full">
                <div class="flex items-center pl-4  w-[30%] font-quicksand">choose a department</div>
                <select id="department" name="department" class="py-3 px-4 pr-9 block border-gray-200 rounded-full w-full text-sm focus:border-blue-500 focus:ring-blue-500 font-quicksand"
                        [(ngModel)]="departmentSelectedId" (ngModelChange)="filterByDepartment()" >
                    <option [ngValue]="userResponse.department?.id" selected>{{userResponse.department?"The current department is "+userResponse.department.name:"there is no department selected"}}</option>
                    <!--                <option [ngValue]="undefined" selected>...</option>-->
                    <ng-container *ngFor="let department of departments">
                        <option [ngValue]="department.id">{{department.name}}</option>
                    </ng-container>
                </select>
            </div>
            <div *ngIf="!response.status && response.errors[0].department" class="text-rose-900 text-sm">
                {{response.errors[0].department}}
            </div>
        </div>
        <div class="w-full px-3 mb-5">
            <label for="role" class=" font-semibold px-1 text-lg font-quicksand capitalize ">Roles</label>
            <div class="ml-3 flex content-center bg-gray-200 rounded-full">
                <div class="flex items-center pl-4  w-[30%] font-quicksand">choose a role</div>
                <select id="role" name="department" class="py-3 px-4 pr-9 block border-gray-200 rounded-full w-full text-sm focus:border-blue-500 focus:ring-blue-500 font-quicksand"
                        [(ngModel)]="roleSelectedId" (ngModelChange)="formData.role=roleSelectedId">
                    <option [ngValue]="userResponse.role?.name" selected>{{userResponse.role?"The current role is "+userResponse.role.name:"there is no department selected"}}</option>
                    <!--                <option [ngValue]="undefined" selected>...</option>-->
                    <ng-container *ngFor="let role of roles">
                        <option [ngValue]="role.id">{{role.name}}</option>
                    </ng-container>
                </select>
            </div>
            <div *ngIf="!response.status && response.errors[0].role" class="text-rose-900 text-sm">
                {{response.errors[0].role}}
            </div>
        </div>
      <div class="flex -mx-3 mt-9">
        <div class="w-full px-3 mb-5">
          <button class="block w-full max-w-xs mx-auto bg-[#46648c] hover:bg-[#242444] focus:bg-[#242444] text-white rounded-lg px-3 py-3 font-semibold">UPDATE USER</button>
        </div>
      </div>
      </form>
    </div>
    <div class="rounded-[10px] w-[34%] h-[50%] bg-white mr-7">
      <div class="w-full justify-center relative flex flex-col items-center p-12 ">
        <div class="w-[300px]  h-[300px] mb-2 relative overflow-hidden justify-center flex items-center rounded-full group">
          <a [routerLink]="userConnected.id===userResponse.id?'/profile/'+userResponse.id:undefined"><img src="{{this.photoUrl?this.photoUrl:'assets/img/user.png'}}" class="w-full cursor-pointer " alt="user"></a>
        </div>
        <div  class="flex justify-center flex-col items-center w-full">
          <p class="text-xl mb-1"> {{userResponse.fullName}}</p>
          <p *ngIf="userResponse.role?.name" class="text-gray-400 capitalize"> {{userResponse.role?.name}}</p>
        </div>
      </div>
    </div>
</div>
