<div class="flex  justify-between mx-10 my-4">
  <div class="rounded-[10px] w-[60%] h-[90%] bg-white p-7">
    <form *ngIf="componentSide=='infos'" (submit)="submitForm()">
      <div class="w-full px-3 mb-5">
        <label for="fullName" class=" font-semibold px-1 text-lg font-quicksand capitalize ">Full name</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-format-title text-gray-400 text-lg"></i></div>
          <input type="text" id="fullName" name="fullName" [value]="userResponse.fullName" [(ngModel)]="formData.fullName" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
        </div>
        <div *ngIf="!response.status && response.errors[0].fullName" class="text-rose-900 text-sm">
          {{response.errors[0].fullName}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="email" class=" font-semibold px-1 text-lg font-quicksand capitalize ">email</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-email-sync-outline text-gray-400 text-lg"></i></div>
          <input type="text" id="email" name="email" [value]="userResponse.email" [(ngModel)]="formData.email" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
        </div>
        <div *ngIf="!response.status && response.errors[0].email" class="text-rose-900 text-sm">
          {{response.errors[0].email}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="phone" class=" font-semibold px-1 text-lg font-quicksand capitalize ">phone</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi  mdi-phone text-gray-400 text-lg"></i></div>
          <input type="text" id="phone" name="phone" [value]="userResponse.phone" [(ngModel)]="formData.phone" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg  font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="task title">
        </div>
        <div *ngIf="!response.status && response.errors[0].phone" class="text-rose-900 text-sm">
          {{response.errors[0].phone}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="phone" class=" font-semibold px-1 text-lg font-quicksand capitalize ">role</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi  mdi-account-key-outline text-gray-400 text-lg"></i></div>
          <input type="text" id="role" name="role" [value]="userResponse.role?.name" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 text-gray-400 border-gray-200 outline-none focus:border-[#46648c]" placeholder="role name" disabled>
        </div>
        <div *ngIf="!response.status && response.errors[0].role" class="text-rose-900 text-sm">
          {{response.errors[0].role}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="phone" class=" font-semibold px-1 text-lg font-quicksand capitalize ">department</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi  mdi-alpha-d-circle text-gray-400 text-lg"></i></div>
          <input type="text" id="department" name="department" [value]="userResponse.department?.name"  class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand text-gray-400 border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="department name" disabled>
        </div>
        <div *ngIf="!response.status && response.errors[0].department" class="text-rose-900 text-sm">
          {{response.errors[0].department}}
        </div>
      </div>

      <div class="flex -mx-3 mt-9">
        <div class="w-full px-3 mb-5">
          <button class="block w-full max-w-xs mx-auto bg-[#46648c] hover:bg-[#242444] focus:bg-[#242444] text-white rounded-lg px-3 py-3 font-semibold">UPDATE USER</button>
        </div>
      </div>
    </form>
    <form *ngIf="componentSide=='password'" (submit)="changePassword()" >
      <div class="w-full px-3 mb-5">
        <label for="fullName" class=" font-semibold px-1 text-lg font-quicksand capitalize ">old password</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-format-title text-gray-400 text-lg"></i></div>
          <input type="password" id="old password" name="oldPassword" [(ngModel)]="oldPassword"  class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="Old password">
        </div>
        <div *ngIf="!passwordResponse.status && passwordResponse.errors[0].oldPassword"  class="text-rose-900 text-sm">
          {{passwordResponse.errors[0].oldPassword}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="fullName" class=" font-semibold px-1 text-lg font-quicksand capitalize ">new password</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-format-title text-gray-400 text-lg"></i></div>
          <input type="password" id="new password" name="newPassword" [(ngModel)]="newPassword" class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="New password">
        </div>
        <div *ngIf="!passwordResponse.status && passwordResponse.errors[0].newPassword" class="text-rose-900 text-sm">
          {{passwordResponse.errors[0].oldPassword}}
        </div>
      </div>
      <div class="w-full px-3 mb-5">
        <label for="fullName" class=" font-semibold px-1 text-lg font-quicksand capitalize ">confirm password</label>
        <div class="flex">
          <div class="w-10 z-10 pl-1 text-center pointer-events-none flex items-center justify-center"><i class="mdi mdi-format-title text-gray-400 text-lg"></i></div>
          <input type="password" id="confirm password" name="confirmPassword" [(ngModel)]="confirmPassword"  class="w-full -ml-10 pl-10 pr-3 py-2 rounded-lg text-lg font-quicksand border-2 border-gray-200 outline-none focus:border-[#46648c]" placeholder="Confirmation password">
        </div>
        <div *ngIf="!passwordResponse.status && passwordResponse.errors[0].confirmPassword" class="text-rose-900 text-sm">
          {{passwordResponse.errors[0].confirmPassword}}
        </div>
        <div *ngIf="!passwordResponse.status && !passwordResponse.errors[0].confirmPassword && passwordResponse.errors[0].passwordMatching" class="text-rose-900 text-sm">
          {{passwordResponse.errors[0].passwordMatching}}
        </div>
      </div>
      <div class="flex -mx-3 mt-9">
        <div class="w-full px-3 mb-5">
          <button class="block w-full max-w-xs mx-auto bg-[#46648c] hover:bg-[#242444] focus:bg-[#242444] text-white rounded-lg px-3 py-3 font-semibold">UPDATE PASSWORD</button>
        </div>
      </div>
    </form>
  </div>
  <div class="rounded-[10px] w-[34%] h-[50%] bg-white mr-7">
        <div class="w-full justify-center relative flex flex-col items-center p-12 ">
            <div class="w-[300px]  h-[300px] mb-2 relative overflow-hidden justify-center flex items-center rounded-full group">
                <a [routerLink]="userConnected.id===userResponse.id?'/profile/'+userResponse.id:undefined"><img [src]="this.photoUrl?this.photoUrl:'assets/img/user.png'" class="w-full cursor-pointer " alt="user"></a>
                <div class="bg-black bg-opacity-20 w-full opacity-0 group-hover:opacity-100 h-full flex cursor-pointer absolute  justify-center items-center font-quicksand text-white  capitalize">change photo <input type="file" #fileInput (change)="changePhoto(fileInput.files)" class="w-full h-full opacity-0 absolute cursor-pointer" accept="image/*"></div>
            </div>
            <div  class="flex justify-center flex-col items-center w-full">
                <p class="text-xl mb-1"> {{userResponse.fullName}}</p>
                <p *ngIf="userResponse.role?.name" class="text-gray-400 capitalize"> {{userResponse.role?.name}}</p>
            </div>
            <div  class="flex flex-col items-start w-full">
                <div class="flex my-4 hover:bg-gray-300 w-full rounded-full p-4 cursor-pointer" [class]="componentSide=='infos'?'bg-gray-300':''"  (click)="componentSide='infos'"><img src="assets/img/infos.svg" class="w-7"/><span class="ml-3 text-lg font-quicksand capitalize">informations</span></div>
                <div class="flex my-4  hover:bg-gray-300 w-full rounded-full p-4 cursor-pointer" [class]="componentSide=='password'?'bg-gray-300':''"  (click)="componentSide='password'"> <img src="assets/img/password.svg" class="w-7"><span class=" ml-3 text-lg font-quicksand capitalize">password</span></div>
            </div>
        </div>
    </div>
</div>
